<div class="container py-4">
  <div class="page-header-with-back">
    <div class="back-navigation">
      <a routerLink="/dashboard" class="btn-back">Volver al inicio</a>
    </div>
    <div class="header-content">
      <h1>Songs</h1>
      <a routerLink="/songs/create" class="btn btn-primary">Create Song</a>
    </div>
  </div>

  @if (isLoading()) {
    <div class="loading-container">
      <span class="loading"></span> Loading...
    </div>
  } @else if (errorMessage()) {
    <div class="error-banner">{{ errorMessage() }}</div>
  } @else if (songs().length === 0) {
    <div class="empty-state card">
      <p>No songs found</p>
      <a routerLink="/songs/create" class="btn btn-primary">Create your first song</a>
    </div>
  } @else {
    <div class="song-grid">
      @for (song of songs(); track song.id) {
        <div class="song-card card">
          <h3>{{ song.name }}</h3>
          <p class="description">{{ song.description }}</p>
          <p class="duration">ðŸŽµ {{ formatDuration(song.durationSeconds) }}</p>
          @if (song.albumName) {
            <p class="album">Album: {{ song.albumName }}</p>
          }
          @if (song.genreName) {
            <p class="genre">Genre: {{ song.genreName }}</p>
          }
          @if (song.audioUrl) {
            <p class="audio-url">ðŸŽ§ {{ song.audioUrl }}</p>
          }
          <div class="card-actions">
            <a [routerLink]="['/songs/edit', song.id]" class="btn btn-secondary">Edit</a>
            <button (click)="deleteSong(song.id)" class="btn btn-danger">Delete</button>
          </div>
        </div>
      }
    </div>
  }
</div>
